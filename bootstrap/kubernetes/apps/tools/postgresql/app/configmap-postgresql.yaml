---
apiVersion: v1
kind: ConfigMap
metadata:
  name: postgresql-values
  namespace: tools
data:
  values.yaml: |-
    defaultStorageClass: nfs-client

    image:
      registry: docker.io
      repository: bitnami/postgresql
      tag: 17.0.0-debian-12-r1
      digest: ""

    auth:
      ## @param auth.enablePostgresUser Assign a password to the "postgres" admin user. Otherwise, remote access will be blocked for this user
      ##
      enablePostgresUser: true
      existingSecret: "postgres-secret"
      secretKeys:
        adminPasswordKey: password
        userPasswordKey: username
      usePasswordFiles: false


    service:
      type: LoadBalancer
      ports:
        postgresql: 5432

    persistence:
      ## @param persistence.storageClass Storage class to use for the PersistentVolumeClaim
      storageClass: nfs-client
      enabled: true
      accessModes:
        - ReadWriteOnce
      size: 8Gi
